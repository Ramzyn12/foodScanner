import { View, Text, Pressable } from "react-native";
import React from "react";
import { Path, Svg } from "react-native-svg";
import { useColourTheme } from "../context/Themed";
import { themedColours } from "../constants/themedColours";

const ErrorPage = ({onPress, message}) => {
  const {theme} = useColourTheme()
  return (
    <View style={{backgroundColor: themedColours.primaryBackground[theme], flex: 1, gap: 20, padding: 30, justifyContent: 'center', alignItems: 'center'}}>
      <Svg
        xmlns="http://www.w3.org/2000/svg"
        width="60"
        height="60"
        viewBox="0 0 60 60"
        fill="none"
      >
        <Path
          d="M49.0642 12.178L53.1212 8.12105C54.2912 6.95105 54.2912 5.04905 53.1212 3.87905C51.9882 2.74605 50.0122 2.74605 48.8792 3.87905L43.3212 9.43705C39.0612 7.82605 34.5862 7.00005 30.0012 7.00005C19.0322 7.00005 8.74322 11.705 1.03022 20.25C-0.444777 21.884 -0.313777 24.415 1.31922 25.891C2.06122 26.565 3.00722 26.93 4.00222 26.93C4.06822 26.93 4.13622 26.93 4.20222 26.925C5.27222 26.873 6.25722 26.405 6.97422 25.611C13.1472 18.769 21.3242 15.001 30.0002 15.001C32.3362 15.001 34.6562 15.29 36.9252 15.834L33.5322 19.226C32.3732 19.085 31.1902 19.001 30.0002 19.001C21.8312 19.001 14.1672 22.273 8.42022 28.217C6.89222 29.799 6.93322 32.339 8.51622 33.881C9.29122 34.63 10.2942 35.002 11.2962 35.002C12.3422 35.002 13.3872 34.596 14.1692 33.786C17.2152 30.64 21.0552 28.504 25.1922 27.567L6.87922 45.879C5.70922 47.049 5.70922 48.951 6.87922 50.121C7.44522 50.687 8.19922 51 9.00022 51C9.80122 51 10.5552 50.688 11.1212 50.121L17.7722 43.47C19.4132 44.401 21.5402 44.073 22.8032 42.587C24.7612 40.274 27.3172 39 29.9992 39C32.6812 39 35.2372 40.273 37.1942 42.585C37.9532 43.484 39.0662 44 40.2492 44C41.2042 44 42.0982 43.674 42.8372 43.052C44.5132 41.628 44.7232 39.1 43.3032 37.413C39.8542 33.34 35.2182 31.081 30.2292 31.013L33.8862 27.356C38.4142 28.174 42.5382 30.381 45.8362 33.791C46.6032 34.57 47.6232 35 48.7102 35C49.7502 35 50.7352 34.603 51.4882 33.876C53.0672 32.338 53.1082 29.798 51.5792 28.215C48.4102 24.936 44.5642 22.42 40.3822 20.86L43.1542 18.088C46.7982 19.88 50.1202 22.402 53.0342 25.619C53.8052 26.452 54.8852 26.93 55.9992 26.93C56.9932 26.93 57.9462 26.561 58.6792 25.893C60.3152 24.415 60.4462 21.884 58.9712 20.249C56.0152 16.98 52.6862 14.274 49.0642 12.178ZM30.0002 13C20.7502 13 12.0452 17.003 5.48922 24.271C5.13022 24.668 4.63722 24.902 4.10322 24.928C3.57022 24.933 3.05822 24.77 2.66122 24.408C1.84422 23.67 1.77722 22.405 2.51422 21.59C9.84322 13.472 19.6052 9.00005 30.0002 9.00005C34.0392 9.00005 37.9882 9.67205 41.7662 10.992L38.5622 14.196C35.7712 13.413 32.8962 13 30.0002 13ZM12.7312 32.395C11.9652 33.188 10.6972 33.207 9.90822 32.445C9.10122 31.659 9.08022 30.412 9.85822 29.606C15.2242 24.056 22.3782 21.001 30.0002 21.001C30.5692 21.001 31.1362 21.025 31.6992 21.059L27.6142 25.144C22.0162 25.696 16.7432 28.252 12.7312 32.395ZM9.70722 48.707C9.32822 49.084 8.67222 49.084 8.29322 48.707C8.10522 48.518 8.00022 48.267 8.00022 48C8.00022 47.733 8.10422 47.482 8.29322 47.293L50.2932 5.29305C50.4882 5.09805 50.7442 5.00105 51.0002 5.00105C51.2562 5.00105 51.5122 5.09805 51.7072 5.29305C52.0972 5.68305 52.0972 6.31705 51.7072 6.70705L9.70722 48.707ZM30.0002 33C34.4792 33 38.6622 35.026 41.7752 38.704C42.4862 39.548 42.3812 40.814 41.5462 41.524C40.7192 42.221 39.4062 42.106 38.7232 41.294C36.3782 38.525 33.2812 37 29.9992 37C26.7172 37 23.6202 38.525 21.2772 41.293C20.7832 41.873 20.0272 42.093 19.3112 41.93L28.1092 33.132C28.7342 33.05 29.3562 33.001 29.9982 33.001L30.0002 33ZM50.1412 29.604C50.9202 30.411 50.8992 31.658 50.0962 32.44C49.3282 33.18 48.0142 33.152 47.2692 32.394C44.0092 29.024 40.0012 26.719 35.5862 25.656L38.8112 22.431C43.0502 23.85 46.9602 26.314 50.1412 29.604ZM57.3352 24.411C56.5512 25.128 55.2442 25.062 54.5102 24.269C51.5942 21.048 48.2792 18.476 44.6472 16.595L47.5962 13.646C51.2182 15.672 54.5452 18.336 57.4872 21.589C58.2232 22.404 58.1572 23.669 57.3362 24.41L57.3352 24.411Z"
          fill={themedColours.primaryText[theme]}
        />
        <Path
          d="M30 45C26.691 45 24 47.691 24 51C24 54.309 26.691 57 30 57C33.309 57 36 54.309 36 51C36 47.691 33.309 45 30 45ZM30 55C27.794 55 26 53.206 26 51C26 48.794 27.794 47 30 47C32.206 47 34 48.794 34 51C34 53.206 32.206 55 30 55Z"
          fill={themedColours.primaryText[theme]}
        />
      </Svg>
      <Text style={{fontSize: 34, fontFamily: 'Mulish_700Bold', color: themedColours.primaryText[theme]}}>Oops</Text>
      <Text style={{fontSize: 17, fontFamily: 'Mulish_600SemiBold', width: 260, textAlign: 'center', color: themedColours.primaryText[theme]}}>{message || 'There appears to be a server error. Please try again later.'}</Text>
      <Pressable onPress={onPress} style={{height: 44, borderRadius: 12, backgroundColor: themedColours.primary[theme], justifyContent: 'center', alignItems: 'center', marginTop: 10, width: '100%'}}>
        <Text style={{fontSize: 14, fontFamily: 'Mulish_700Bold', color: themedColours.primaryBackground[theme]}}>Try Again</Text>
      </Pressable>
    </View>
  );
};

export default ErrorPage;
